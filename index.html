<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HODNOTY</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding: 20px;
            background: #f5f5f5;
            font-stretch: semi-condensed;
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            font-size: 2.5em;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .section {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .section-title {
            font-size: 1.2em;
            color: #555;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .cards-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            min-height: 100px;
        }

        .selected-area {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            min-height: 200px;
            border: 2px dashed #ccc;
            border-radius: 8px;
            padding: 15px;
            background: #fafafa;
        }

        .slot {
            position: relative;
            min-height: 80px;
            border: 2px dashed #bbb;
            border-radius: 8px;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .slot.drag-over {
            background: #e3f2fd;
            border-color: #2196F3;
            transform: scale(1.02);
        }

        .slot.occupied {
            border-style: solid;
            border-color: #4CAF50;
        }

        .slot-number {
            position: absolute;
            top: 5px;
            left: 5px;
            background: #666;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8em;
            font-weight: 700;
            z-index: 1;
        }

        .slot .card {
            margin: 0;
            width: 100%;
        }

        .card {
            padding: 12px 20px;
            border-radius: 8px;
            cursor: move;
            user-select: none;
            font-size: 0.95em;
            font-weight: 500;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: transform 0.2s, box-shadow 0.2s;
            text-align: center;
            min-width: 180px;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }

        .card.dragging {
            opacity: 0.5;
        }

        .bottom-controls {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 20px;
            margin-top: 20px;
        }

        .notes-container {
            flex: 0 0 auto;
        }

        .notes-area {
            width: 10cm;
            height: 5cm;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 0.95em;
            font-family: inherit;
            resize: none;
        }

        .buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        button {
            padding: 12px 24px;
            font-size: 1em;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .reset-btn {
            background: #ff6b6b;
            color: white;
        }

        .reset-btn:hover {
            background: #ee5a52;
        }

        .screenshot-btn {
            background: #4CAF50;
            color: white;
        }

        .screenshot-btn:hover {
            background: #45a049;
        }

        .counter {
            margin-top: 10px;
            font-size: 0.9em;
            color: #666;
        }

        .counter.warning {
            color: #ff6b6b;
            font-weight: 600;
        }

        .pastel-1 { background: #FFE4E1; color: #333; }
        .pastel-2 { background: #E6E6FA; color: #333; }
        .pastel-3 { background: #F0E68C; color: #333; }
        .pastel-4 { background: #FFDAB9; color: #333; }
        .pastel-5 { background: #B0E0E6; color: #333; }
        .pastel-6 { background: #DDA0DD; color: #333; }
        .pastel-7 { background: #F5DEB3; color: #333; }
        .pastel-8 { background: #FFB6C1; color: #333; }
        .pastel-9 { background: #98FB98; color: #333; }
        .pastel-10 { background: #FAFAD2; color: #333; }

        #capture-area {
            background: white;
            padding: 20px;
            border-radius: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>HODNOTY</h1>
        
        <div id="capture-area">
            <div class="section">
                <div class="section-title">DostupnÃ© hodnoty</div>
                <div id="available-cards" class="cards-container"></div>
            </div>

            <div class="section">
                <div class="section-title">Moje vybranÃ© hodnoty (max 10)</div>
                <div id="selected-cards" class="selected-area">
                    <div class="slot" data-slot="1"><span class="slot-number">1</span></div>
                    <div class="slot" data-slot="2"><span class="slot-number">2</span></div>
                    <div class="slot" data-slot="3"><span class="slot-number">3</span></div>
                    <div class="slot" data-slot="4"><span class="slot-number">4</span></div>
                    <div class="slot" data-slot="5"><span class="slot-number">5</span></div>
                    <div class="slot" data-slot="6"><span class="slot-number">6</span></div>
                    <div class="slot" data-slot="7"><span class="slot-number">7</span></div>
                    <div class="slot" data-slot="8"><span class="slot-number">8</span></div>
                    <div class="slot" data-slot="9"><span class="slot-number">9</span></div>
                    <div class="slot" data-slot="10"><span class="slot-number">10</span></div>
                </div>
                <div class="counter" id="counter">VybrÃ¡no: 0 / 10</div>
            </div>

            <div class="bottom-controls">
                <div class="notes-container">
                    <div class="section-title">PoznÃ¡mky</div>
                    <textarea id="notes" class="notes-area" placeholder="Zde mÅ¯Å¾ete zapsat svÃ© poznÃ¡mky..."></textarea>
                </div>
                <div class="buttons">
                    <button class="reset-btn" onclick="resetSelection()">
                        ðŸ”„ Reset
                    </button>
                    <button class="screenshot-btn" onclick="takeScreenshot()">
                        ðŸ“· Screenshot
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const values = [
            "KONTAKT NA VENEK",
            "ESTETIKA",
            "ZMÄšNA",
            "KREATIVITA",
            "RÅ®ST",
            "Å˜EÅ ENÃ VÃZEV",
            "ZNALOSTI",
            "PRÃCE S LIDMI",
            "ODBORNÃ PRÃCE",
            "PÅ˜ÃTELSTVÃ",
            "PROJEVOVÃNÃ SVÃCH SCHOPNOSTÃ",
            "NEZÃVISLOST",
            "INTELEKTUÃLNÃ STATUS",
            "ÄŒASOVÃ NEZÃVISLOST",
            "JISTOTA",
            "ZISKOVOST",
            "PRACOVNÃ KLID",
            "VÃNOSY â€“ MÃT Z TOHO FINANCE",
            "SPOLEÄŒENSTVÃ",
            "ZPÄšTNÃ VAZBA",
            "VÃZNAM V DANÃ‰M REGIONU",
            "MORÃLNÃ NAPLNÄšNÃ",
            "POMOC SPOLEÄŒNOSTI",
            "POMOC OSTATNÃM",
            "STATUS SKRZE PRÃCI",
            "SUPERVIZE",
            "VÃTVARNÃ PROJEV",
            "OVLIVÅ‡OVÃNÃ LIDÃ",
            "UMÄšLECKÃ KREATIVITA",
            "MOÅ½NOST / MOC DÄšLAT ROZHODNUTÃ",
            "RYCHLÃ‰ TEMPO",
            "FYZICKÃ AKTIVITA",
            "VZRUÅ ENÃ",
            "PRECIZNÃ PRÃCE",
            "PÅ˜IDRUÅ½ENÃ (V ÄŒLENSKÃ‰ ORGANIZACI)",
            "MINIMÃLNÃ KONTAKT S LIDMI",
            "MOC",
            "OBÄŒASNÃ KONTAKT S LIDMI",
            "AUTORITA",
            "DLOUHODOBÃ STABILITA",
            "SOUTÄšÅ½IVOST",
            "PRÃCE POD TLAKEM",
            "SAMOSTATNOST",
            "SOUÄŒÃST TÃMU",
            "OHLEDUPLNOST",
            "DÅ®VÄšRA",
            "ANALYTICKO-KONCEPÄŒNÃ PÅ˜ÃSTUP",
            "KONSENSUS",
            "ZODPOVÄšDNOST",
            "DOMINANCE",
            "ZÃBAVA",
            "POSLÃNÃ",
            "VYTVÃÅ˜ENÃ HODNOT",
            "TVORBA NÄšÄŒEHO HMOTNÃ‰HO",
            "POVÃÅ ENÃ",
            "RÅ®ZNORODOST",
            "TVOÅ˜IVOST",
            "INTENZIVNÃ KONTAKT / PRÃCE S LIDMI",
            "ROZVÃÅ½NOST",
            "KLIDNÃ PRÃCE",
            "VÃZNAM V ZAHRANIÄŒÃ",
            "POPULARITA"
        ];

        const MAX_SELECTED = 10;
        let draggedElement = null;

        function initializeCards() {
            const container = document.getElementById('available-cards');
            values.forEach((value, index) => {
                const card = createCard(value, index);
                container.appendChild(card);
            });
        }

        function createCard(text, index) {
            const card = document.createElement('div');
            card.className = `card pastel-${(index % 10) + 1}`;
            card.textContent = text;
            card.draggable = true;
            card.dataset.value = text;
            
            card.addEventListener('dragstart', handleDragStart);
            card.addEventListener('dragend', handleDragEnd);
            
            return card;
        }

        function handleDragStart(e) {
            draggedElement = this;
            this.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
            e.dataTransfer.setData('text/html', this.innerHTML);
        }

        function handleDragEnd(e) {
            this.classList.remove('dragging');
        }

        function setupDropZones() {
            const slots = document.querySelectorAll('.slot');
            const availableArea = document.getElementById('available-cards');

            // Setup slots
            slots.forEach(slot => {
                slot.addEventListener('dragover', handleSlotDragOver);
                slot.addEventListener('drop', handleSlotDrop);
                slot.addEventListener('dragleave', handleSlotDragLeave);
            });

            // Setup available area
            availableArea.addEventListener('dragover', handleDragOver);
            availableArea.addEventListener('drop', handleAvailableDrop);
        }

        function handleSlotDragOver(e) {
            if (e.preventDefault) {
                e.preventDefault();
            }
            
            e.dataTransfer.dropEffect = 'move';
            
            // Highlight only if slot is empty or we're dragging from this slot
            const card = this.querySelector('.card');
            if (!card || (draggedElement && draggedElement.parentElement === this)) {
                this.classList.add('drag-over');
            }
            
            return false;
        }

        function handleSlotDragLeave(e) {
            this.classList.remove('drag-over');
        }

        function handleSlotDrop(e) {
            if (e.stopPropagation) {
                e.stopPropagation();
            }
            
            this.classList.remove('drag-over');
            
            if (draggedElement) {
                const existingCard = this.querySelector('.card');
                
                // If slot is occupied, swap cards if dragging from another slot
                if (existingCard && draggedElement.parentElement.classList.contains('slot')) {
                    const sourceSlot = draggedElement.parentElement;
                    sourceSlot.appendChild(existingCard);
                    this.appendChild(draggedElement);
                } 
                // If slot is empty, just move the card
                else if (!existingCard) {
                    this.appendChild(draggedElement);
                } 
                // If dragging from available area and slot is occupied, do nothing
                else {
                    return false;
                }
                
                this.classList.add('occupied');
                updateCounter();
            }
            
            return false;
        }

        function handleDragOver(e) {
            if (e.preventDefault) {
                e.preventDefault();
            }
            e.dataTransfer.dropEffect = 'move';
            return false;
        }

        function handleAvailableDrop(e) {
            if (e.stopPropagation) {
                e.stopPropagation();
            }
            
            if (draggedElement && draggedElement.parentElement.classList.contains('slot')) {
                // Remove from slot and add to available
                const slot = draggedElement.parentElement;
                this.appendChild(draggedElement);
                slot.classList.remove('occupied');
                updateCounter();
            }
            
            return false;
        }

        function updateCounter() {
            const slots = document.querySelectorAll('.slot');
            let count = 0;
            
            slots.forEach(slot => {
                if (slot.querySelector('.card')) {
                    count++;
                    slot.classList.add('occupied');
                } else {
                    slot.classList.remove('occupied');
                }
            });
            
            const counter = document.getElementById('counter');
            counter.textContent = `VybrÃ¡no: ${count} / ${MAX_SELECTED}`;
            
            if (count >= MAX_SELECTED) {
                counter.classList.add('warning');
            } else {
                counter.classList.remove('warning');
            }
        }

        function resetSelection() {
            if (!confirm('Opravdu chcete vrÃ¡tit vÅ¡echny hodnoty a smazat poznÃ¡mky?')) {
                return;
            }
            
            const slots = document.querySelectorAll('.slot');
            const availableArea = document.getElementById('available-cards');
            
            slots.forEach(slot => {
                const card = slot.querySelector('.card');
                if (card) {
                    availableArea.appendChild(card);
                }
                slot.classList.remove('occupied');
            });
            
            document.getElementById('notes').value = '';
            updateCounter();
        }

        function takeScreenshot() {
            const element = document.getElementById('capture-area');
            
            html2canvas(element, {
                backgroundColor: '#ffffff',
                scale: 2,
                logging: false
            }).then(canvas => {
                const link = document.createElement('a');
                link.download = `hodnoty_${new Date().toISOString().slice(0,10)}.png`;
                link.href = canvas.toDataURL();
                link.click();
            });
        }

        // Initialize
        initializeCards();
        setupDropZones();
        updateCounter();
    </script>
</body>
</html>
